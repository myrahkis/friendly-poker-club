import{_ as m,r as u,u as _,v as o,y as r,I as h,J as l,K as v,L as g,z as y,x as i}from"./BgxBb2eW.js";const b={class:"admin-container"},k={key:0},L=["src"],x=["disabled"],C={__name:"admin",setup(w){const n=u([]),c=u([]),s=u(!1);_();function p(e){const t=e.target;t.files&&(n.value=Array.from(t.files),c.value=n.value.map(a=>URL.createObjectURL(a)))}async function f(){if(n.value.length!==0){s.value=!0;try{const e=new FormData;n.value.forEach((a,d)=>{e.append("photos",a)});const t=await $fetch("/api/upload",{method:"POST",body:e})}catch(e){console.error(e),alert("Ошибка загрузки")}finally{s.value=!1}}}return(e,t)=>(i(),o("div",b,[t[0]||(t[0]=r("h1",null,"Загрузка фото",-1)),r("input",{type:"file",multiple:"",accept:"image/*",onChange:p},null,32),l(c).length?(i(),o("div",k,[(i(!0),o(v,null,g(l(c),(a,d)=>(i(),o("div",{key:d},[r("img",{src:a},null,8,L)]))),128))])):h("",!0),r("button",{onClick:f,disabled:l(s)},y(l(s)?"Загрузка...":"Загрузить"),9,x)]))}},D=m(C,[["__scopeId","data-v-aa61c9ea"]]);export{D as default};
